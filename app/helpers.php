<?php
function dynamicDateFormat($date, $format = 'Y-m-d')
{
// ?echo dynamicDateFormat('2024-06-12', 'Y-m-d'); // Outputs: 2024-06-12
// ?echo dynamicDateFormat('2024-06-12', 'd/m/Y'); // Outputs: 12/06/2024
// ?echo dynamicDateFormat('2024-06-12', 'l, F j, Y'); // Outputs: Wednesday, June 12, 2024
// ?echo dynamicDateFormat('invalid-date', 'Y-m-d'); // Outputs: Invalid date
// Check if the provided date is valid
if (strtotime($date) === false) {
return 'Invalid date';
}
// Create a DateTime object from the provided date
$dateTime = new DateTime($date);
// Return the formatted date string
return $dateTime->format($format);
}
function getActionButtons($array = array())
{
    $html = '';
    foreach($array as $arr)
    { 
        $url = $arr['url'];
        if($arr['key'] == 'edit')
        {
        $html .= '<a title="Edit" class="edit" href="'.$url.'">
            <svg enable-background="new 0 0 512 512" height="18" viewBox="0 -1 401.52289 401" width="18" xmlns="http://www.w3.org/2000/svg">
                <g fill="#666">
                    <path d="m370.589844 250.972656c-5.523438 0-10 4.476563-10 10v88.789063c-.019532 16.5625-13.4375 29.984375-30 30h-280.589844c-16.5625-.015625-29.980469-13.4375-30-30v-260.589844c.019531-16.558594 13.4375-29.980469 30-30h88.789062c5.523438 0 10-4.476563 10-10 0-5.519531-4.476562-10-10-10h-88.789062c-27.601562.03125-49.96875 22.398437-50 50v260.59375c.03125 27.601563 22.398438 49.96875 50 50h280.589844c27.601562-.03125 49.96875-22.398437 50-50v-88.792969c0-5.523437-4.476563-10-10-10zm0 0" xmlns="http://www.w3.org/2000/svg"/>
                    <path d="m376.628906 13.441406c-17.574218-17.574218-46.066406-17.574218-63.640625 0l-178.40625 178.40625c-1.222656 1.222656-2.105469 2.738282-2.566406 4.402344l-23.460937 84.699219c-.964844 3.472656.015624 7.191406 2.5625 9.742187 2.550781 2.546875 6.269531 3.527344 9.742187 2.566406l84.699219-23.464843c1.664062-.460938 3.179687-1.34375 4.402344-2.566407l178.402343-178.410156c17.546875-17.585937 17.546875-46.054687 0-63.640625zm-220.257812 184.90625 146.011718-146.015625 47.089844 47.089844-146.015625 146.015625zm-9.40625 18.875 37.621094 37.625-52.039063 14.417969zm227.257812-142.546875-10.605468 10.605469-47.09375-47.09375 10.609374-10.605469c9.761719-9.761719 25.589844-9.761719 35.351563 0l11.738281 11.734375c9.746094 9.773438 9.746094 25.589844 0 35.359375zm0 0" xmlns="http://www.w3.org/2000/svg"/>
                </g>
            </svg>
        </a>
        &nbsp'; 
        }else if($arr['key'] == 'delete'){
        $html .= '<a title="Delete" href="javascript:;" class="delete" onclick="deleteWithSwal(\''.$url.'\');"  >
            <svg enable-background="new 0 0 512 512" height="18" viewBox="-57 0 512 512" width="18" xmlns="http://www.w3.org/2000/svg">
                <g fill="#e42222">
                    <path d="m156.371094 30.90625h85.570312v14.398438h30.902344v-16.414063c.003906-15.929687-12.949219-28.890625-28.871094-28.890625h-89.632812c-15.921875 0-28.875 12.960938-28.875 28.890625v16.414063h30.90625zm0 0" xmlns="http://www.w3.org/2000/svg"/>
                    <path d="m344.210938 167.75h-290.109376c-7.949218 0-14.207031 6.78125-13.566406 14.707031l24.253906 299.90625c1.351563 16.742188 15.316407 29.636719 32.09375 29.636719h204.542969c16.777344 0 30.742188-12.894531 32.09375-29.640625l24.253907-299.902344c.644531-7.925781-5.613282-14.707031-13.5625-14.707031zm-219.863282 312.261719c-.324218.019531-.648437.03125-.96875.03125-8.101562 0-14.902344-6.308594-15.40625-14.503907l-15.199218-246.207031c-.523438-8.519531 5.957031-15.851562 14.472656-16.375 8.488281-.515625 15.851562 5.949219 16.375 14.472657l15.195312 246.207031c.527344 8.519531-5.953125 15.847656-14.46875 16.375zm90.433594-15.421875c0 8.53125-6.917969 15.449218-15.453125 15.449218s-15.453125-6.917968-15.453125-15.449218v-246.210938c0-8.535156 6.917969-15.453125 15.453125-15.453125 8.53125 0 15.453125 6.917969 15.453125 15.453125zm90.757812-245.300782-14.511718 246.207032c-.480469 8.210937-7.292969 14.542968-15.410156 14.542968-.304688 0-.613282-.007812-.921876-.023437-8.519531-.503906-15.019531-7.816406-14.515624-16.335937l14.507812-246.210938c.5-8.519531 7.789062-15.019531 16.332031-14.515625 8.519531.5 15.019531 7.816406 14.519531 16.335937zm0 0" xmlns="http://www.w3.org/2000/svg"/>
                    <path d="m397.648438 120.0625-10.148438-30.421875c-2.675781-8.019531-10.183594-13.429687-18.640625-13.429687h-339.410156c-8.453125 0-15.964844 5.410156-18.636719 13.429687l-10.148438 30.421875c-1.957031 5.867188.589844 11.851562 5.34375 14.835938 1.9375 1.214843 4.230469 1.945312 6.75 1.945312h372.796876c2.519531 0 4.816406-.730469 6.75-1.949219 4.753906-2.984375 7.300781-8.96875 5.34375-14.832031zm0 0" xmlns="http://www.w3.org/2000/svg"/>
                </g>
            </svg>
        </a>
        &nbsp';
        }else if($arr['key'] == 'show'){
        $tooltip = isset($arr['tooltip'])?$arr['tooltip']:"Show";
        $html .= '<a title="'.$tooltip.'" class="show '.@$arr['extra_class'].'" data-val="'.@$arr['currentId'].'" href="'.$url.'"   >
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" width="18" height="18" viewBox="0 0 32 32">
                <path d="M16 6c-6.979 0-13.028 4.064-16 10 2.972 5.936 9.021 10 16 10s13.027-4.064 16-10c-2.972-5.936-9.021-10-16-10zM23.889 11.303c1.88 1.199 3.473 2.805 4.67 4.697-1.197 1.891-2.79 3.498-4.67 4.697-2.362 1.507-5.090 2.303-7.889 2.303s-5.527-0.796-7.889-2.303c-1.88-1.199-3.473-2.805-4.67-4.697 1.197-1.891 2.79-3.498 4.67-4.697 0.122-0.078 0.246-0.154 0.371-0.228-0.311 0.854-0.482 1.776-0.482 2.737 0 4.418 3.582 8 8 8s8-3.582 8-8c0-0.962-0.17-1.883-0.482-2.737 0.124 0.074 0.248 0.15 0.371 0.228v0zM16 13c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3z" fill="#666"></path>
            </svg>
        </a>
        &nbsp';
        }else if($arr['key'] == 'permission'){
        $tooltip = isset($arr['tooltip'])?$arr['tooltip']:"Permission";
        $html .= '<a title="'.$tooltip.'"" href="'.$url.'" class="edit"   >
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
                <path d="M18.5 14h-0.5v-6c0-3.308-2.692-6-6-6h-4c-3.308 0-6 2.692-6 6v6h-0.5c-0.825 0-1.5 0.675-1.5 1.5v15c0 0.825 0.675 1.5 1.5 1.5h17c0.825 0 1.5-0.675 1.5-1.5v-15c0-0.825-0.675-1.5-1.5-1.5zM6 8c0-1.103 0.897-2 2-2h4c1.103 0 2 0.897 2 2v6h-8v-6z">
                </path>
            </svg>
        </a>
        &nbsp';
        }else if($arr['key'] == 'clone')
        {
        $tooltip = isset($arr['tooltip'])?$arr['tooltip']:"Clone";
        $html .= '<a title="'.$tooltip.'" class="show tooltip_button" href="'.$url.'"   >
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">
                <path d="M26 25.5v-17c0-0.266-0.234-0.5-0.5-0.5h-17c-0.266 0-0.5 0.234-0.5 0.5v17c0 0.266 0.234 0.5 0.5 0.5h17c0.266 0 0.5-0.234 0.5-0.5zM28 8.5v17c0 1.375-1.125 2.5-2.5 2.5h-17c-1.375 0-2.5-1.125-2.5-2.5v-17c0-1.375 1.125-2.5 2.5-2.5h17c1.375 0 2.5 1.125 2.5 2.5zM22 2.5v2.5h-2v-2.5c0-0.266-0.234-0.5-0.5-0.5h-17c-0.266 0-0.5 0.234-0.5 0.5v17c0 0.266 0.234 0.5 0.5 0.5h2.5v2h-2.5c-1.375 0-2.5-1.125-2.5-2.5v-17c0-1.375 1.125-2.5 2.5-2.5h17c1.375 0 2.5 1.125 2.5 2.5z"></path>
            </svg>
        </a>
        &nbsp';
        }else if($arr['key']=='receive'){
        $html .= '&nbsp;<span><a title="Receive" class="cursorpointer" href="'.$url.'"  style="color: green;"><i aria-hidden="true" class="fa fa-check"  ></i></a></span>&nbsp;';
        }else if($arr['key']=='cancel'){
        $html .= '&nbsp;<span><a title="Cancel" class="cursorpointer" href="javascript:;" class="delete" onclick="cancelWithReasonSwal(\''.$url.'\');"    style="color: #e5002d !important;"><i aria-hidden="true" class="fa fa-times"  ></i></a></span>&nbsp;';
        }else if($arr['key'] == 'settings')
        {
        $tooltip = isset($arr['tooltip'])?$arr['tooltip']:"Settings";
        $html .= '<a title="'.$tooltip.'" class="show" href="'.$url.'"   >
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18.579 18.58">
                <g id="noun-settings-4846449" transform="translate(-81.445 -11.443)">
                    <path id="Path_2399" data-name="Path 2399" d="M90.736,16.742a3.992,3.992,0,1,1-2.822,1.169,3.979,3.979,0,0,1,2.822-1.169Zm2.034-2.508q.293.092.572.207t.551.258l1.422-1.074a1.186,1.186,0,0,1,1.557.108l.864.864a1.186,1.186,0,0,1,.108,1.557l-1.074,1.422q.142.269.259.552t.207.572L99,18.946a1.185,1.185,0,0,1,1.026,1.177v1.222A1.185,1.185,0,0,1,99,22.521l-1.764.246q-.092.293-.207.572t-.258.551l1.074,1.422a1.186,1.186,0,0,1-.108,1.557l-.864.864a1.186,1.186,0,0,1-1.557.108l-1.422-1.074q-.269.142-.552.259t-.572.207L92.522,29a1.185,1.185,0,0,1-1.177,1.026H90.124A1.185,1.185,0,0,1,88.947,29L88.7,27.233q-.293-.092-.572-.207t-.551-.258l-1.422,1.074a1.186,1.186,0,0,1-1.557-.108l-.864-.864a1.186,1.186,0,0,1-.108-1.557L84.7,23.891q-.142-.269-.259-.552t-.207-.572l-1.763-.246a1.185,1.185,0,0,1-1.026-1.177V20.122a1.185,1.185,0,0,1,1.026-1.177l1.764-.246q.092-.293.207-.572c.078-.188.164-.372.259-.552l-1.074-1.422a1.186,1.186,0,0,1,.108-1.557l.864-.864a1.186,1.186,0,0,1,1.557-.108L87.578,14.7c.18-.094.364-.181.552-.258s.377-.146.572-.207l.246-1.764a1.185,1.185,0,0,1,1.177-1.026h1.222a1.185,1.185,0,0,1,1.177,1.026l.246,1.764Zm.239,1.01a5.947,5.947,0,0,0-.734-.249.435.435,0,0,1-.327-.363l-.285-2.043a.315.315,0,0,0-.316-.274H90.124a.315.315,0,0,0-.316.274l-.284,2.034a.435.435,0,0,1-.321.37,5.794,5.794,0,0,0-.741.251,5.914,5.914,0,0,0-.688.339.435.435,0,0,1-.5-.019l-1.647-1.244a.323.323,0,0,0-.216-.065.314.314,0,0,0-.2.095l-.864.864a.313.313,0,0,0-.03.417l1.243,1.647a.435.435,0,0,1,.029.479,5.939,5.939,0,0,0-.6,1.438.435.435,0,0,1-.363.327l-2.043.285a.315.315,0,0,0-.274.316v1.222a.315.315,0,0,0,.274.316l2.034.284a.435.435,0,0,1,.37.321,5.824,5.824,0,0,0,.251.741,6,6,0,0,0,.338.688.435.435,0,0,1-.019.5l-1.243,1.647a.323.323,0,0,0-.065.216.314.314,0,0,0,.095.2l.864.864a.313.313,0,0,0,.417.03L87.278,25.9a.436.436,0,0,1,.48-.029,5.92,5.92,0,0,0,1.438.6.435.435,0,0,1,.327.363l.285,2.043a.315.315,0,0,0,.316.274h1.222a.315.315,0,0,0,.316-.274l.284-2.034a.435.435,0,0,1,.321-.37,5.823,5.823,0,0,0,.741-.251,6,6,0,0,0,.688-.338.435.435,0,0,1,.5.019l1.647,1.243a.323.323,0,0,0,.216.065.314.314,0,0,0,.2-.095l.864-.864a.313.313,0,0,0,.03-.417L95.906,24.19a.436.436,0,0,1-.029-.48,5.92,5.92,0,0,0,.6-1.438.435.435,0,0,1,.363-.327l2.043-.285a.315.315,0,0,0,.274-.316V20.122a.315.315,0,0,0-.274-.316l-2.034-.284a.435.435,0,0,1-.37-.321,5.823,5.823,0,0,0-.251-.741,6,6,0,0,0-.338-.688.435.435,0,0,1,.019-.5l1.243-1.647a.323.323,0,0,0,.065-.216.314.314,0,0,0-.095-.2l-.864-.864a.313.313,0,0,0-.417-.03l-1.647,1.244a.436.436,0,0,1-.48.029,5.95,5.95,0,0,0-.7-.348Zm-.066,3.283a3.12,3.12,0,1,0,.914,2.207A3.111,3.111,0,0,0,92.942,18.526Z" transform="translate(0 0)" ></path>
                </g>
            </svg>
        </a>
        &nbsp';
        }else if($arr['key']=='history'){
        $tooltip = isset($arr['tooltip'])?$arr['tooltip']:"History";
        $html .= '&nbsp;<span><a title="'.$tooltip.'"  class="cursorpointer" href="'.$url.'"  style="color: #8c8c8c;"><i class="fa fa-history" aria-hidden="true"></i></a></span>&nbsp;';
        }
    }
    return $html;
}

function getStatusChangeButton($status=null,$url=null,$parm=null)
{
    $style = '';
    if($parm == 'not-allowed'){
        $style ="style = 'cursor: not-allowed; pointer-events: none'" ."disabled";
    }
    if($status == 'APPROVED')
    {

        return '<span title="Manage Status"  class="list-status active" onclick="changeStatus(\''.$url.'\');">Approved</span>';

    }
    else if($status == 'PENDING')
    {
        return '<span title="Manage Status" class="list-status inactive" onclick="changeStatus(\''.$url.'\');">Pending</span>';
    }

    else if($status == '1')
    {

        return '<span title="Manage Status" class="list-status text-success active" '.$style.' onclick="changeStatus(\''.$url.'\');">Active</span>';

    }
    else if($status == '0')
    {
        return '<span title="Manage Status" class="list-status text-danger inactive" '.$style.' onclick="changeStatus(\''.$url.'\');">Inactive</span>';
    }
}
